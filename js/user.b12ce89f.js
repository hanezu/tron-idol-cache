(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{1511:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-main",{staticClass:"home-page"},[a("div",{staticClass:"fixed-width",staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticClass:"avatar",staticStyle:{height:"100px",width:"100px",position:"relative"}},[a("img",{staticClass:"idol-avatar",attrs:{src:i("cf05"),alt:"avatar"}})]),a("div",[a("div",{staticStyle:{"font-size":"14px","margin-left":"20px"}},[a("span",{staticStyle:{color:"#aaa"}},[t._v("tron "+t._s(t.$t("address"))+": ")]),a("span",{staticStyle:{cursor:"pointer"}},[t._v(t._s(t.coinbase))])]),a("div",{staticStyle:{"font-size":"14px","margin-left":"20px"}},[a("span",{staticStyle:{color:"#aaa"}},[t._v(t._s(t.$t("balance"))+": ")]),a("span",[t._v(t._s(t.trxBalance)+" trx")])])])]),a("div",{staticStyle:{position:"relative"}},[a("div",{staticClass:"line"},[a("img",{staticStyle:{width:"100%"},attrs:{src:i("e740"),alt:""}})]),a("div",{staticClass:"home-header fixed-width cryptoTab"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-menu",{attrs:{"default-active":t.category,mode:"horizontal","background-color":"#191428","text-color":"#BDBDBD","active-text-color":"#ffffff"},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{index:"all"}},[t._v(t._s(t.$t("all")))]),a("el-menu-item",{attrs:{index:"forsale"}},[t._v(t._s(t.$t("for_sale")))])],1)],1),a("div",{staticClass:"menu-container",attrs:{onselectstart:"return false;"}},[a("div",{staticClass:"menu-btn",on:{click:function(e){t.sortBoxActive=!t.sortBoxActive}}},[a("font-awesome-icon",{staticStyle:{"margin-right":"8px"},attrs:{icon:["fas","bars"]}}),a("span",[t._v(t._s(t.sort.name))])],1),t.sortBoxActive?a("div",{staticClass:"sort-box"},t._l(t.sorts,function(e,i){return a("div",{key:i,on:{click:function(i){t.sortChange(e)}}},[t._v(t._s(e.name))])})):t._e()])]),t.filterActive?a("div",{staticClass:"filterContainer fixed-width"},[a("div",{staticClass:"filterRow"},[a("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.$t("hair_color"))+"：")]),t._l(t.hairColors,function(e,i){return a("span",{key:i,staticClass:"a-tag",class:{"a-tag-active":e.active},on:{click:function(e){t.activeAttr("hairColors",i)}}},[t._v(t._s(e.name)+"\n                ")])})],2),a("div",{staticClass:"filterRow"},[a("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.$t("eye_color"))+"：")]),t._l(t.eyeColors,function(e,i){return a("span",{key:i,staticClass:"a-tag",class:{"a-tag-active":e.active},on:{click:function(e){t.activeAttr("eyeColors",i)}}},[t._v(t._s(e.name)+"\n                ")])})],2),a("div",{staticClass:"filterRow"},[a("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.$t("hair_style"))+"：")]),t._l(t.hairStyles,function(e,i){return a("span",{key:i,staticClass:"a-tag",class:{"a-tag-active":e.active},on:{click:function(e){t.activeAttr("hairStyles",i)}}},[t._v(t._s(e.name)+"\n                ")])})],2),a("div",{staticClass:"filterRow"},[a("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.$t("feature"))+"：")]),t._l(t.attributes,function(e,i){return a("span",{key:i,staticClass:"a-tag",class:{"a-tag-active":e.active},on:{click:function(e){t.activeAttr("attributes",i)}}},[t._v(t._s(e.name)+"\n                ")])})],2)]):t._e()]),a("div",{staticClass:"fixed-width",staticStyle:{display:"flex","justify-content":"flex-end"}}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fixed-width cardContainer",staticStyle:{"margin-top":"-20px"},attrs:{"element-loading-background":"#191428"}},[t._l(t.idolList,function(t,e){return a("Card",{key:e,staticClass:"idolCard",class:{"idolCard-noMargin":(e+1)%4===0},attrs:{idol:t,canBuy:!1,canFav:!1}})}),t.idolList.length<=0?a("div",{staticClass:"no-data"},[a("span",[t._v("(|||ﾟдﾟ) "+t._s(t.$t("not_find_data"))+"~~"+t._s(t.$t("go"))+" ")]),a("router-link",{attrs:{to:"/market"}},[t._v(t._s(t.$t("market")))]),a("span",[t._v(" "+t._s(t.$t("have_look"))+"~~")])],1):t._e()],2),t.pageCount>0?a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,total:t.pageCount},on:{"current-change":t.handlePageChange}})],1):t._e(),a("el-dialog",{attrs:{title:t.$t("breed")+"Idol",visible:t.showBreed,width:"500px"},on:{"update:visible":function(e){t.showBreed=e}}},[a("el-form",{ref:"breedForm",attrs:{model:t.breedForm,rules:t.breedRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:t.$t("father"),prop:"matronId"}},[a("el-select",{attrs:{placeholder:t.$t("Please choose father")},model:{value:t.breedForm.matronId,callback:function(e){t.$set(t.breedForm,"matronId",e)},expression:"breedForm.matronId"}},t._l(t.idolList,function(e){return a("el-option",{key:e.TokenId,attrs:{label:e.NickName,value:e.TokenId}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[a("img",{staticStyle:{width:"30px"},attrs:{src:t.CONFIG.IMG_SERVER+e.Pic,alt:""}}),a("span",[t._v(t._s(e.NickName))])])])}))],1),a("el-form-item",{attrs:{label:t.$t("mother"),prop:"sireId"}},[a("el-select",{attrs:{placeholder:t.$t("Please choose mother")},model:{value:t.breedForm.sireId,callback:function(e){t.$set(t.breedForm,"sireId",e)},expression:"breedForm.sireId"}},t._l(t.idolList,function(e){return a("el-option",{key:e.TokenId,attrs:{label:e.NickName,value:e.TokenId}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[a("img",{staticStyle:{width:"30px"},attrs:{src:t.CONFIG.IMG_SERVER+e.Pic,alt:""}}),a("span",[t._v(t._s(e.NickName))])])])}))],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showBreed=!1}}},[t._v(t._s(t.$t("cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:t.breed}},[t._v(t._s(t.$t("determine")))])],1)],1)],1)},n=[],s=i("be94"),o=(i("55dd"),i("ac6a"),i("cadf"),i("551c"),i("097d"),i("ae8d")),r=i("2f62"),c={name:"User",components:{Card:o["a"]},data:function(){var t=this,e=function(e,i,a){t.breedForm.matronId===i?a(new Error(t.$t("been_selected"))):a()};return{idolList:[],pageIndex:1,pageSize:12,pageCount:0,loading:!1,category:"all",sorts:[{id:"-id",name:this.$t("ID_desc")},{id:"+id",name:this.$t("ID_asc")}],sort:{id:"+id",name:this.$t("ID_asc")},filterActive:!1,sortBoxActive:!1,showBreed:!1,breedForm:{matronId:"",sireId:""},breedRules:{matronId:[{required:!0,message:this.$t("Please choose father"),trigger:"change"}],sireId:[{required:!0,message:this.$t("Please choose mother"),trigger:"change"},{validator:e,trigger:"change"}]},canBreed:!0}},methods:{breed:function(){var t=this;this.$refs["breedForm"].validate(function(e){if(e){t.showBreed=!1;var i=t.$loading({lock:!0,text:t.$t("operation_progress"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});t.API.breedIdol(t.breedForm.matronId,t.breedForm.sireId).then(function(e){console.log(e),i.close(),t.$message({message:t.$t("operation_success"),type:"success"}),t.getList()}).catch(function(e){console.log(e),i.close(),t.$message({message:"".concat(t.$t("operation_failed"),"，").concat(e),type:"error"})})}})},activeAttr:function(t,e){this[t][e].active=!this[t][e].active,this.getList()},handleSelect:function(t){this.category=t,this.getList()},getList:function(){var t=this;this.loading=!0;var e=[];this.hairColors.forEach(function(t){t.active&&e.push(t.id)});var i=[];this.eyeColors.forEach(function(t){t.active&&i.push(t.id)});var a=[];this.hairStyles.forEach(function(t){t.active&&a.push(t.id)});var n=[];this.attributes.forEach(function(t){t.active&&n.push(t.id)});var s={page:this.pageIndex,pageSize:this.pageSize,category:this.category,hairColors:e.join(","),eyeColors:i.join(","),hairStyles:a.join(","),attributes:n.join(","),filters:"",sort:this.sort.id},o={};for(var r in s)s[r]&&(o[r]=s[r]);this.API.getMyIdols(o).then(function(e){t.loading=!1,0===e.code&&(t.idolList=e.data.rows,t.pageCount=e.data.count)})},handlePageChange:function(t){console.log(t),this.pageIndex=t,this.getList()},sortChange:function(t){this.sortBoxActive=!1,this.sort=t,this.getList()}},mounted:function(){var t=this;this.getList(),window.tronWeb.ready||this.$confirm("Please unlock TronPay first","Tips",{confirmButtonText:"Confirm",showClose:!1,showCancelButton:!1,closeOnClickModal:!1,type:"warning"}).then(function(){t.$router.push({path:"/"})}).catch(function(){})},computed:Object(s["a"])({},Object(r["b"])({isInjected:function(t){return t.tron.tron.isInjected},coinbase:function(t){return t.tron.tron.coinbase},balance:function(t){return t.tron.tron.balance}}),{trxBalance:function(){return window.tronWeb.fromSun(this.balance)},hairColors:function(){for(var t=[],e=["blonde","brown","black","blue","pink","purple","green","red","silver","white","orange","aqua","grey"],i=0;i<e.length;i++){var a=e[i];t.push({id:a,name:this.$t(a),active:!1})}return t},eyeColors:function(){for(var t=[],e=["blue","red","brown","green","purple","yellow","pink","aqua","black","orange"],i=0;i<e.length;i++){var a=e[i];t.push({id:a,name:this.$t(a),active:!1})}return t},hairStyles:function(){for(var t=[],e=["long hair","short hair","twintails","drill hair","ponytail"],i=0;i<e.length;i++){var a=e[i];t.push({id:a,name:this.$t(a),active:!1})}return t},attributes:function(){for(var t=[],e=["dark skin","blush","smile","open mouth","hat","ribbon","glasses"],i=0;i<e.length;i++){var a=e[i];t.push({id:a,name:this.$t(a),active:!1})}return t}}),watch:{"window.tronWeb.ready":{handler:function(t){console.log("123",t)},immediate:!0,deep:!0}}},l=c,d=(i("207b"),i("3fc5"),i("2877")),u=Object(d["a"])(l,a,n,!1,null,"d12b5414",null);u.options.__file="User.vue";e["default"]=u.exports},"207b":function(t,e,i){"use strict";var a=i("7b18"),n=i.n(a);n.a},"2f21":function(t,e,i){"use strict";var a=i("79e5");t.exports=function(t,e){return!!t&&a(function(){e?t.call(null,function(){},1):t.call(null)})}},"3fc5":function(t,e,i){"use strict";var a=i("d696"),n=i.n(a);n.a},"55dd":function(t,e,i){"use strict";var a=i("5ca1"),n=i("d8e8"),s=i("4bf8"),o=i("79e5"),r=[].sort,c=[1,2,3];a(a.P+a.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!i("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(s(this)):r.call(s(this),n(t))}})},"7b18":function(t,e,i){},ae8d:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"idol"},[i("div",{staticClass:"card-body",on:{click:t.toDetail}},[t.canFav?i("div",{staticClass:"heart-icon-container",on:{click:function(t){t.stopPropagation()}}},[0===t.idol.IsLike?i("font-awesome-icon",{attrs:{icon:["far","heart"]},on:{click:function(e){return e.stopPropagation(),t.like(e)}}}):t._e(),1===t.idol.IsLike?i("font-awesome-icon",{attrs:{icon:["fas","heart"]},on:{click:function(e){return e.stopPropagation(),t.unlike(e)}}}):t._e()],1):t._e(),i("div",{staticClass:"body-top"},[i("span",[t._v(t._s(t.idol.NickName))])]),i("div",{staticClass:"image-inner"},[i("img",{staticClass:"avatar-img",attrs:{src:t.imgSrc}})]),i("div",{staticClass:"body-middle"},[i("span",[t._v(t._s(t.$t("num_gen",{num:t.idol.Generation}))+" · R")])]),i("div",{staticClass:"body-bottom"},[i("span",[t._v("#"+t._s(t.idol.TokenId))])])]),t.canBuy?i("div",{staticClass:"buy",on:{click:t.buy}},[i("span",[t._v(t._s(t.$t("buy")))])]):t._e()])},n=[],s=(i("96cf"),i("1da1")),o=(i("cadf"),i("551c"),i("097d"),{name:"Card",props:{idol:{type:Object,default:function(){return{Bio:"1",BirthTime:0,Cooldown:0,Generation:2,Genes:"0",MatronId:0,NickName:"1",Pic:"/idol/00a1f298bbe0.jpg",SireId:0,TokenId:2,UserId:1}}},canBuy:{type:Boolean,default:!1},canFav:{type:Boolean,default:!0}},data:function(){return{}},mounted:function(){},methods:{toDetail:function(){this.$router.push({path:"/card/".concat(this.idol.TokenId)})},like:function(){var t=this;this.API.like({tokenId:this.idol.TokenId}).then(function(e){0===e.code?(console.log(e),t.idol.IsLike=1):t.$notify({type:"error",title:t.$t("tips"),message:t.$t("like_failure"),duration:2e3})})},unlike:function(){var t=this;this.API.unlike({tokenId:this.idol.TokenId}).then(function(e){0===e.code&&(console.log(e),t.idol.IsLike=0)})},buy:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},computed:{imgSrc:function(){return""===this.idol.Pic?"https://myblog-images1.oss-cn-beijing.aliyuncs.com/tronproducer/anonymous.png":this.CONFIG.IMG_SERVER+this.idol.Pic}}}),r=o,c=(i("c6c3"),i("2877")),l=Object(c["a"])(r,a,n,!1,null,"50ebe32c",null);l.options.__file="Card.vue";e["a"]=l.exports},c576:function(t,e,i){},c6c3:function(t,e,i){"use strict";var a=i("c576"),n=i.n(a);n.a},cf05:function(t,e,i){t.exports=i.p+"img/logo.9dc5eabd.png"},d696:function(t,e,i){},e740:function(t,e,i){t.exports=i.p+"img/line2@2x.35a9154e.png"}}]);
//# sourceMappingURL=user.b12ce89f.js.map